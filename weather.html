<!DOCTYPE html>
<html lang="en">
<head>
   <title>AGRI_TECH SALES</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link rel="icon" type="image/x-icon" href="Untitled design.png"/>
  <link rel="stylesheet" href="login.css"> 
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

   <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Tektur:wght@400..900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="weather.css">
</head>
<body class="ubuntu-regular">
   <div class="topp">
      <div class="headimg">
         <img src="Untitled design.png"/>
        <h2 class="tektur-text">Agri_Tech Weather Forecast System</h2>
      </div>
       <div class="letterhold"></div>
    </div>
     <div class="container">
    <!-- Live Weather Section -->
    <div class="section" id="live-weather">
      <h2>Live Weather</h2>
      <p><strong>Location:</strong> <span id="location">Loading...</span></p>
      <p><strong>Temperature:</strong> <span id="temperature">--</span></p>
      <p><strong>Weather:</strong> <span id="weather">--</span></p>
      <p><strong>Humidity:</strong> <span id="humidity">--</span></p>
      <p><strong>Wind Speed:</strong> <span id="wind-speed">--</span></p>
      <p><strong>Rain:</strong> <span id="rain">--</span></p>
      <p><strong>Sunshine:</strong> <span id="sunshine">--</span></p>
    </div>

    <!-- Monthly Forecast -->
    <div class="section" id="forecast">
      <h2>Monthly Forecast (July)</h2>
      <div id="monthly-forecast"></div>
    </div>

    <!-- Agricultural Insights -->
    <div class="section" id="agriculture-insights">
      <h2>Agricultural Insights</h2>
      <ul>
        <li>Expected rainfall: <span id="rainfall">--</span> mm</li>
        <li>Best days for planting: <span id="planting-days">--</span></li>
        <li>Pest risk: <span id="pest-risk">--</span></li>
      </ul>
    </div>

    <!-- Alerts Section -->
    <div class="section" id="alerts">
      <h2>Weather Alerts</h2>
      <p id="alerts-content">No alerts at the moment.</p>
    </div>
  </div>

<nav>
    <button id="to-home">
      <a href="main.html"><span class="material-symbols-outlined">
local_mall
</span></a>
      
    </button>
    <button id="to-sell">
      <a href="productadd.html"><span class="material-symbols-outlined">add_circle</span></a>
      
    </button>
    <button id="to-chat">
      <a href="chat.html"><span class="material-symbols-outlined">chat</span></a>
      
    </button>
    </button>
    <button style="background: rgb(79, 191, 71);">
      <a href="weather.html"><span class="material-symbols-outlined">
cloud
</span></a>
      
    </button>
    <button>
      <a href="calender.html"><span class="material-symbols-outlined">
calendar_month
</span></a>
      
    </button>
    <button>
      <a href="price.html"><span class="material-symbols-outlined">
finance_mode
</span></a>
      
    </button>
       <button>
      <a href="ai.html"><span class="material-symbols-outlined">
network_intelligence
</span></a>
      
    </button>
    <button>
      <a href="account.html"><span class="material-symbols-outlined">
account_circle
</span></a>
      
    </button>
  </nav>
    <script src="weather.js"></script>
    <script type="module">
          import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
    import { getDatabase, ref, set, get, push, onValue, remove, orderByChild, query, update } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-database.js";
    import { getStorage, ref as sRef, uploadBytesResumable, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-storage.js";
    import { getAuth, createUserWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC7fCNZe8l-fGhhKsMF0JVcymh8uCv1zyI",
      authDomain: "lavender-app-eeeb0.firebaseapp.com",
      databaseURL: "https://lavender-app-eeeb0-default-rtdb.firebaseio.com",
      projectId: "lavender-app-eeeb0",
      storageBucket: "lavender-app-eeeb0.appspot.com",
      messagingSenderId: "666797584961",
      appId: "1:666797584961:web:8d9576c372d72fe0938cc0",
      measurementId: "G-ECZ1J6F0KK"
    };


    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const storage = getStorage(app);
    var auth = getAuth(app);

        var urName = document.querySelector('#urname');
        var telNumber = document.querySelector('#telnumber');
        var senderEmail = document.querySelector('#sender');
    

      

     var letterHolder = document.querySelector('.letterhold');
    onAuthStateChanged(auth, (user) => {
  if (user) {
    var userId = user.uid;
    var userRefer = query(ref(db, "users/"));

    onValue(userRefer, (snapshot) => {
      var userData = snapshot.val();

      if (userData) {
        Object.keys(userData).forEach((key) => {
          if (userData[key].uid === userId) {
            const userInfo = userData[key];

            const firstLetter = userInfo.username.charAt(0).toUpperCase();
            letterHolder.innerHTML = firstLetter;
          }
        });
      }
    });
  }
});

    </script>
</body>
</html>
