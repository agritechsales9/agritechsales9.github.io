<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>AGRI_TECH SALES</title>
  <link href="style.css" rel="stylesheet" />
  <link rel="icon" type="image/x-icon" href="Untitled design.png" />
  <link rel="stylesheet" href="login.css" />
  <link href="https://fonts.googleapis.com/css2?family=Tektur:wght@400..900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet" />
</head>

<body class="ubuntu-regular">
  <div class="image-holder">
    <img src="Untitled design.png" />
  </div>

  <div class="wrapper">
    <div class="form-box login">
      <h2 class="ubuntu-regular">Login</h2>
      <div>
        <div class="input-box">
          <span class="icon"><ion-icon name="mail"></ion-icon></span>
          <input type="text" id="login_name" required>
          <label>Email</label>
        </div>
        <div class="input-box">
          <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
          <input type="password" id="log_passcode" required>
          <label>Password</label>
        </div>
        <div class="remember-forgot">
          <label><input type="checkbox"> Remember me</label>
          <a href="#">Forgot Password?</a>
        </div>
        <button type="button" id="login_btn" class="btn">Login</button>

        <div class="login-register">
          <p class="ubuntu-regular">Don't have an account? <a href="sign.html" class="register-link">Sign-up</a></p>
        </div>

        
      </div>
    </div>
  </div>

  <div>
          
          <p class="ubuntu-regular">Â© Copyright Ndejje SSS</p>
        </div>
  <section class="wave-holder">
    <div class="custom-shape-divider-bottom-1751546375">
      <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z" class="shape-fill"></path>
      </svg>
    </div>
  </section>

  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

  
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC7fCNZe8l-fGhhKsMF0JVcymh8uCv1zyI",
      authDomain: "lavender-app-eeeb0.firebaseapp.com",
      databaseURL: "https://lavender-app-eeeb0-default-rtdb.firebaseio.com",
      projectId: "lavender-app-eeeb0",
      storageBucket: "lavender-app-eeeb0.appspot.com",
      messagingSenderId: "666797584961",
      appId: "1:666797584961:web:8d9576c372d72fe0938cc0",
      measurementId: "G-ECZ1J6F0KK"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

      onAuthStateChanged(auth, (user) => {
  if (user) {
    window.location.href = 'main.html';
  } 
});

    const loginBtn = document.querySelector('#login_btn');
    const emailInput = document.querySelector('#login_name');
    const passwordInput = document.querySelector('#log_passcode');

    loginBtn.addEventListener('click', () => {
      const email = emailInput.value.trim();
      const password = passwordInput.value.trim();

      if (email !== '' && password !== '') {
        signInWithEmailAndPassword(auth, email, password)
          .then((userCredential) => {
            window.location.href = 'main.html';
          })
          .catch((error) => {
            alert("Login failed: " + error.message);
          });
      } else {
        alert('Please fill in all fields.');
      }
    });
  </script>
</body>
</html>
